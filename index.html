<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Terra Signal ‚Äî Climate Risk Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Inter, Arial, sans-serif;
      background: #0b1020;
      color: #e6e8f0;
      margin: 0;
      padding: 0;
    }
    header {
      padding: 30px;
      background: linear-gradient(135deg, #1b2cff, #00d4ff);
      color: white;
    }
    section {
      padding: 30px;
      max-width: 900px;
      margin: auto;
    }
    h2 { color: #7dd3fc; }
    input, textarea, button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
    }
    button {
      background: #2563eb;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    .card {
      background: #11162a;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    .chat-box {
      height: 220px;
      overflow-y: auto;
      background: #050814;
      padding: 10px;
      border-radius: 6px;
    }
    .msg {
      margin-bottom: 10px;
    }
    .ai { color: #7dd3fc; }
    .user { color: #facc15; }
    footer {
      text-align: center;
      opacity: 0.6;
      padding: 20px;
    }
  </style>
</head>

<body>

<header>
  <h1>üåç Terra Signal</h1>
  <p>Climate Pattern Analysis & Early Risk Intelligence</p>
</header>

<section class="card">
  <h2>Global Climate Query</h2>
  <input id="lat" placeholder="Latitude (e.g. 29.76)">
  <input id="lon" placeholder="Longitude (e.g. -95.36)">
  <button onclick="analyzeRegion()">Analyze Region</button>
  <pre id="output"></pre>
</section>

<section class="card">
  <h2>Conversational AI</h2>
  <div class="chat-box" id="chat"></div>
  <textarea id="userInput" placeholder="Ask about flooding, soil saturation, drought risk..."></textarea>
  <button onclick="sendMessage()">Send</button>
</section>

<section class="card">
  <h2>Terrain Image Upload</h2>
  <input type="file" accept="image/*" onchange="analyzeImage(this)">
  <p id="imageResult"></p>
</section>

<section class="card">
  <h2>Scientific Validation</h2>
  <p>
    Terra Signal does not claim deterministic prediction of natural disasters.
    Instead, it computes <b>risk indicators</b> derived from:
  </p>
  <ul>
    <li>Precipitation accumulation trends</li>
    <li>Temperature volatility</li>
    <li>Soil saturation proxies</li>
    <li>Topographic heuristics</li>
  </ul>
  <p>
    Models are inspired by IPCC methodologies, NASA hydrology datasets,
    and NOAA climate indicators.
  </p>
</section>

<footer>
  Terra Signal ¬© 2026 ‚Äî Experimental Research Platform
</footer>

<script>
async function analyzeRegion() {
  const lat = document.getElementById("lat").value;
  const lon = document.getElementById("lon").value;
  const out = document.getElementById("output");

  out.textContent = "Fetching climate data...";

  const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=precipitation,temperature_2m`;

  const res = await fetch(url);
  const data = await res.json();

  const precip = data.hourly.precipitation.slice(0, 24);
  const avgRain = precip.reduce((a,b)=>a+b,0)/precip.length;

  let risk = "LOW";
  if (avgRain > 4) risk = "MODERATE";
  if (avgRain > 8) risk = "HIGH";

  out.textContent =
`Avg Precipitation (24h): ${avgRain.toFixed(2)} mm
Hydrological Risk Index: ${risk}

Interpretation:
Elevated precipitation may increase soil saturation and runoff potential.`;
}

function sendMessage() {
  const input = document.getElementById("userInput").value;
  const chat = document.getElementById("chat");

  chat.innerHTML += `<div class="msg user">You: ${input}</div>`;

  let response = "This region currently shows stable conditions.";

  if (input.toLowerCase().includes("flood"))
    response = "Flood risk correlates with precipitation intensity and soil permeability.";
  if (input.toLowerCase().includes("soil"))
    response = "Saturated soils reduce infiltration, increasing surface runoff.";

  chat.innerHTML += `<div class="msg ai">Terra Signal: ${response}</div>`;
  chat.scrollTop = chat.scrollHeight;
  document.getElementById("userInput").value = "";
}

function analyzeImage(input) {
  const result = document.getElementById("imageResult");
  result.textContent =
    "Terrain detected. Visual indicators suggest slope + drainage pathways. Image-based inference is heuristic only.";
}
</script>

</body>
</html>

